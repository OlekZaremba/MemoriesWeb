<div class="main">
  <div class="content">
    <div class="grades">
      <div class="tile">
        <h2>Przedmioty</h2>

        <!-- Przycisk: Dodaj przedmiot -->
        <div class="teacher-control-buttons">
          <button (click)="openAddSubjectModal()">Dodaj przedmiot</button>
        </div>

        <!-- Tabela przedmiotów -->
        <div class="student-grades-table">
          <table class="subjects-table">
            <thead>
            <tr>
              <th>Przedmiot</th>
              <th>Przypisani nauczyciele</th>
              <th>Przypisz nauczyciela</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let subject of subjects">
              <td>{{ subject.className }}</td>
              <td></td> <!-- Możesz tu w przyszłości dodać listę przypisań -->
              <td>
                <button class="goToGrade" (click)="openAssignTeacherModal(subject.id)">Przypisz</button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal: Dodaj przedmiot -->
<div class="modal-backdrop" *ngIf="showAddSubjectModal">
  <div class="modal">
    <h2>Dodaj przedmiot</h2>

    <label for="subjectName">Nazwa przedmiotu:</label>
    <input
      id="subjectName"
      type="text"
      [(ngModel)]="newSubjectName"
      placeholder="Wpisz nazwę przedmiotu"
    />

    <div class="modal-buttons">
      <button (click)="addSubject()">Zapisz</button>
      <button (click)="closeAddSubjectModal()">Anuluj</button>
    </div>
  </div>
</div>

<!-- Modal: Przypisz nauczyciela -->
<div class="modal-backdrop" *ngIf="showAssignTeacherModal">
  <div class="modal">
    <h2>Przypisz nauczyciela do grupy i przedmiotu</h2>

    <label for="teacherSelect">Wybierz nauczyciela:</label>
    <select id="teacherSelect" [(ngModel)]="selectedTeacherId">
      <option [value]="null" disabled selected>-- Wybierz nauczyciela --</option>
      <option *ngFor="let teacher of teachers" [value]="teacher.id">
        {{ teacher.name }} {{ teacher.surname }}
      </option>
    </select>

    <label for="groupSelect">Wybierz klasę:</label>
    <select id="groupSelect" [(ngModel)]="selectedGroupId">
      <option [value]="null" disabled selected>-- Wybierz klasę --</option>
      <option *ngFor="let group of groups" [value]="group.id">
        {{ group.groupName }}
      </option>
    </select>

    <div class="modal-buttons">
      <button (click)="assignTeacherToGroupAndSubject()">Zapisz</button>
      <button (click)="closeAssignTeacherModal()">Anuluj</button>
    </div>
  </div>
</div>
